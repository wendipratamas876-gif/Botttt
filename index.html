<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XX-0-25 | Ultimate Finance Dashboard</title>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;500;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ================= AESTHETICS & THEME ================= */
        :root {
            --bg-core: #050510;
            --glass-bg: rgba(20, 20, 35, 0.6);
            --glass-border: rgba(255, 255, 255, 0.08);
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-green: #0aff68;
            --neon-red: #ff0a46;
            --neon-yellow: #ffd700;
            --text-main: #ffffff;
            --text-dim: #8b9bb4;
            --font-ui: 'Rajdhani', sans-serif;
            --font-code: 'JetBrains Mono', monospace;
            
            --b-coin: #00f3ff;
            --l-coin: #ffd700;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--bg-core);
            color: var(--text-main);
            font-family: var(--font-ui);
            height: 100vh;
            overflow: hidden;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(0, 243, 255, 0.05), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(188, 19, 254, 0.05), transparent 25%),
                radial-gradient(circle at 50% 80%, rgba(255, 215, 0, 0.03), transparent 20%);
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 3px; }

        /* ================= UTILITIES ================= */
        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .text-neon-blue { color: var(--neon-blue); text-shadow: 0 0 10px rgba(0, 243, 255, 0.5); }
        .text-neon-green { color: var(--neon-green); }
        .text-neon-red { color: var(--neon-red); }
        .text-neon-yellow { color: var(--neon-yellow); }
        .text-code { font-family: var(--font-code); }
        .text-center { text-align: center; }

        /* ================= LOGIN SCREEN ================= */
        #login-screen {
            position: fixed; inset: 0; z-index: 100;
            background: #000;
            display: flex; align-items: center; justify-content: center;
            background-image: 
                linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
            background-size: 30px 30px;
        }

        .login-box {
            width: 400px; padding: 3rem;
            background: rgba(10, 10, 20, 0.9);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            position: relative;
            overflow: hidden;
        }

        .login-box::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
            animation: scan 3s linear infinite;
        }

        @keyframes scan { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

        .login-title {
            font-size: 2rem; font-weight: 700; letter-spacing: 4px;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-subtitle {
            color: var(--text-dim); margin-bottom: 2rem; font-size: 0.9rem;
        }

        .input-group {
            margin-bottom: 1.5rem; text-align: left;
        }
        .input-label { display: block; color: var(--text-dim); margin-bottom: 0.5rem; font-size: 0.9rem; letter-spacing: 1px; }
        .cyber-input {
            width: 100%; background: rgba(0,0,0,0.4); border: 1px solid var(--glass-border);
            color: white; padding: 1rem; border-radius: 4px;
            font-family: var(--font-code); font-size: 0.9rem;
            transition: 0.3s;
        }
        .cyber-input:focus { outline: none; border-color: var(--neon-blue); box-shadow: 0 0 15px rgba(0, 243, 255, 0.2); }

        .btn-cyber {
            width: 100%; padding: 1rem;
            background: linear-gradient(45deg, var(--neon-blue), #0077ff);
            border: none; color: black; font-weight: 700; font-size: 1rem;
            text-transform: uppercase; letter-spacing: 2px;
            cursor: pointer; clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
            transition: 0.3s;
        }
        .btn-cyber:hover { transform: translateY(-2px); box-shadow: 0 0 20px rgba(0, 243, 255, 0.4); }

        .login-options {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;
        }
        .login-option {
            background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border);
            padding: 1rem; border-radius: 8px; text-align: center; cursor: pointer;
            transition: 0.3s;
        }
        .login-option:hover {
            background: rgba(255,255,255,0.1); border-color: var(--neon-blue);
        }

        /* ================= DASHBOARD LAYOUT ================= */
        #app-layout { display: flex; height: 100%; opacity: 0; transition: 0.5s; pointer-events: none; }
        #app-layout.active { opacity: 1; pointer-events: all; }

        /* Sidebar */
        aside {
            width: 280px; background: rgba(5,5,15,0.95);
            border-right: 1px solid var(--glass-border);
            padding: 2rem 1rem;
            display: flex; flex-direction: column;
        }
        .logo { font-size: 1.8rem; font-weight: 700; color: white; margin-bottom: 3rem; letter-spacing: 2px; display: flex; align-items: center; gap: 10px; }
        .logo i { color: var(--neon-blue); }

        .nav-link {
            padding: 1rem 1.5rem; margin-bottom: 0.5rem;
            color: var(--text-dim); text-decoration: none;
            display: flex; align-items: center; gap: 1rem;
            border-left: 2px solid transparent; transition: 0.3s;
            font-size: 1.1rem;
        }
        .nav-link:hover, .nav-link.active {
            background: rgba(255,255,255,0.03);
            color: white; border-left-color: var(--neon-blue);
        }

        .sidebar-footer {
            margin-top: auto; padding-top: 2rem; border-top: 1px solid var(--glass-border);
        }
        .sidebar-footer span { color: var(--text-dim); font-size: 0.8rem; }

        /* Main Content */
        main { flex: 1; padding: 2rem; overflow-y: auto; position: relative; }

        .top-bar {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;
        }
        .top-title h1 { font-size: 2rem; font-weight: 500; text-transform: uppercase; }
        .top-title span { color: var(--text-dim); font-size: 0.9rem; }

        .user-pill {
            display: flex; align-items: center; gap: 1rem;
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            padding: 0.5rem 1.5rem; border-radius: 50px;
            backdrop-filter: blur(10px);
        }
        .avatar { width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--neon-blue); }
        .user-info { text-align: right; }
        .user-role { 
            color: var(--neon-green); font-size: 0.8rem; 
            background: rgba(10, 255, 104, 0.1); padding: 2px 8px;
            border-radius: 10px; display: inline-block;
        }
        .user-id { font-size: 0.9rem; font-family: var(--font-code); }

        /* ================= WALLET SECTION ================= */
        .wallet-section {
            margin-bottom: 2rem;
        }

        .wallet-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1.5rem;
        }

        .wallet-title {
            font-size: 1.5rem; font-weight: 500;
        }

        .time-display {
            font-family: var(--font-code); color: var(--neon-blue);
            font-size: 1.2rem;
        }

        .coin-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .coin-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 1.5rem; position: relative;
            backdrop-filter: blur(10px); transition: 0.3s;
        }
        .coin-card:hover { border-color: rgba(255,255,255,0.2); }

        .coin-card.b-coin { border-top: 4px solid var(--b-coin); }
        .coin-card.l-coin { border-top: 4px solid var(--l-coin); }

        .coin-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1rem;
        }
        .coin-name { font-size: 1.2rem; font-weight: 500; }
        .coin-icon {
            width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; font-weight: bold;
        }
        .coin-icon.b-coin { background: rgba(0, 243, 255, 0.1); color: var(--b-coin); }
        .coin-icon.l-coin { background: rgba(255, 215, 0, 0.1); color: var(--l-coin); }

        .coin-balance {
            font-size: 2.5rem; font-weight: 700; font-family: var(--font-code);
            margin-bottom: 0.5rem;
        }
        .b-coin .coin-balance { color: var(--b-coin); }
        .l-coin .coin-balance { color: var(--l-coin); }

        .coin-usd {
            color: var(--text-dim); font-size: 0.9rem; margin-bottom: 1rem;
        }

        .coin-actions {
            display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;
        }
        .coin-btn {
            padding: 0.75rem; background: rgba(255,255,255,0.05);
            border: 1px solid var(--glass-border); color: white;
            border-radius: 6px; cursor: pointer; transition: 0.2s;
            font-size: 0.9rem; text-align: center;
        }
        .coin-btn:hover {
            background: rgba(255,255,255,0.1); transform: translateY(-2px);
        }
        .coin-btn.primary { background: rgba(0, 243, 255, 0.1); border-color: var(--b-coin); }
        .coin-btn.primary:hover { background: rgba(0, 243, 255, 0.2); }

        /* ================= DASHBOARD STATS ================= */
        .stats-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 1.5rem;
            backdrop-filter: blur(10px);
        }

        .stat-title {
            color: var(--text-dim); font-size: 0.9rem; margin-bottom: 0.5rem;
            display: flex; align-items: center; gap: 0.5rem;
        }

        .stat-value {
            font-size: 2rem; font-weight: 700; font-family: var(--font-code);
        }
        .stat-value.positive { color: var(--neon-green); }
        .stat-value.negative { color: var(--neon-red); }

        .stat-trend {
            font-size: 0.8rem; margin-top: 0.5rem;
        }
        .trend-up { color: var(--neon-green); }
        .trend-down { color: var(--neon-red); }

        /* ================= REALTIME GRAPHS ================= */
        .graphs-section {
            margin-bottom: 2rem;
        }

        .graphs-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;
        }

        .graph-card {
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 1.5rem; height: 300px;
            backdrop-filter: blur(10px);
        }

        .graph-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1rem;
        }

        .graph-title {
            font-size: 1.1rem; font-weight: 500;
            display: flex; align-items: center; gap: 0.5rem;
        }

        .graph-time {
            font-family: var(--font-code); color: var(--text-dim);
            font-size: 0.8rem;
        }

        .graph-canvas-container {
            height: 200px; position: relative;
        }

        /* ================= TRANSACTION HISTORY ================= */
        .history-section {
            margin-bottom: 2rem;
        }

        .history-table {
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 12px; overflow: hidden; backdrop-filter: blur(10px);
        }

        .table-header {
            display: grid; grid-template-columns: 1fr 2fr 1fr 1fr 1fr;
            padding: 1rem 1.5rem; background: rgba(255,255,255,0.03);
            border-bottom: 1px solid var(--glass-border);
            color: var(--text-dim); font-size: 0.9rem;
        }

        .table-row {
            display: grid; grid-template-columns: 1fr 2fr 1fr 1fr 1fr;
            padding: 1rem 1.5rem; border-bottom: 1px solid var(--glass-border);
            transition: 0.2s;
        }
        .table-row:hover { background: rgba(255,255,255,0.02); }

        .table-cell { display: flex; align-items: center; }

        .tx-type { 
            width: 30px; height: 30px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.8rem;
        }
        .tx-type.deposit { background: rgba(10, 255, 104, 0.1); color: var(--neon-green); }
        .tx-type.withdraw { background: rgba(255, 10, 70, 0.1); color: var(--neon-red); }
        .tx-type.transfer { background: rgba(0, 243, 255, 0.1); color: var(--neon-blue); }

        .tx-amount { font-family: var(--font-code); font-weight: 500; }
        .tx-amount.positive { color: var(--neon-green); }
        .tx-amount.negative { color: var(--neon-red); }

        .tx-status {
            padding: 0.25rem 0.75rem; border-radius: 12px;
            font-size: 0.8rem;
        }
        .status-success { background: rgba(10, 255, 104, 0.1); color: var(--neon-green); }
        .status-pending { background: rgba(255, 215, 0, 0.1); color: var(--neon-yellow); }
        .status-failed { background: rgba(255, 10, 70, 0.1); color: var(--neon-red); }

        /* ================= MODALS ================= */
        .modal {
            position: fixed; inset: 0; background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px); z-index: 200;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .modal.active { opacity: 1; pointer-events: all; }

        .modal-panel {
            width: 90%; max-width: 500px;
            background: #0a0a15; border: 1px solid var(--glass-border);
            border-radius: 12px; overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .modal-header {
            padding: 1.5rem; border-bottom: 1px solid var(--glass-border);
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(255,255,255,0.02);
        }

        .modal-body { padding: 2rem; }

        .modal-footer {
            padding: 1.5rem; border-top: 1px solid var(--glass-border);
            background: rgba(255,255,255,0.02);
            display: flex; gap: 1rem; justify-content: flex-end;
        }

        .btn-modal {
            padding: 0.75rem 1.5rem; border-radius: 6px;
            border: none; cursor: pointer; font-family: var(--font-ui);
            font-weight: 500; transition: 0.2s;
        }
        .btn-modal.primary {
            background: linear-gradient(45deg, var(--neon-blue), #0077ff);
            color: black;
        }
        .btn-modal.secondary {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--glass-border);
            color: white;
        }

        /* ================= TOAST ================= */
        .toast {
            position: fixed; top: 2rem; right: 2rem; background: rgba(10,10,20,0.95);
            border: 1px solid var(--neon-blue); color: white; padding: 1rem 2rem;
            border-radius: 4px; transform: translateX(150%); transition: 0.4s;
            z-index: 999; display: flex; align-items: center; gap: 1rem;
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
            backdrop-filter: blur(10px);
        }
        .toast.show { transform: translateX(0); }

        /* ================= RESPONSIVE ================= */
        @media (max-width: 1200px) {
            .coin-grid, .stats-grid, .graphs-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            aside { position: fixed; left: -280px; z-index: 90; height: 100%; transition: 0.3s; }
            aside.open { left: 0; }
            main { padding: 1rem; }
            .table-header, .table-row { grid-template-columns: 1fr 1fr 1fr; }
            .table-cell:nth-child(4), .table-cell:nth-child(5) { display: none; }
        }
    </style>
</head>
<body>

    <!-- TOAST NOTIFICATION -->
    <div id="toast" class="toast">
        <i class="fa-solid fa-circle-info text-neon-blue"></i>
        <span id="toast-msg">Notification</span>
    </div>

    <!-- LOGIN SCREEN -->
    <section id="login-screen">
        <div class="login-box">
            <div class="login-title">XX-0-25</div>
            <div class="login-subtitle">Ultimate Finance & Trading Dashboard</div>
            
            <div class="login-options">
                <div class="login-option" onclick="auth.selectMethod('telegram')">
                    <i class="fab fa-telegram" style="color: #0088cc; font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                    <div>Sign-in with Telegram</div>
                </div>
                <div class="login-option" onclick="auth.selectMethod('username')">
                    <i class="fa-solid fa-user" style="color: var(--neon-blue); font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                    <div>Sign-in with Username</div>
                </div>
            </div>

            <div class="input-group" id="tg-input" style="display: none;">
                <label class="input-label">TELEGRAM ID</label>
                <input type="text" id="tg-id" class="cyber-input" placeholder="7473782076">
            </div>
            <div class="input-group" id="user-input" style="display: none;">
                <label class="input-label">USERNAME</label>
                <input type="text" id="username" class="cyber-input" placeholder="admin">
            </div>
            <div class="input-group" id="pass-input" style="display: none;">
                <label class="input-label">PASSWORD</label>
                <input type="password" id="password" class="cyber-input" placeholder="••••••••">
            </div>

            <button class="btn-cyber" onclick="auth.login()" style="margin-top: 1rem;">
                <i class="fa-solid fa-terminal"></i> CONNECT TO SYSTEM
            </button>
        </div>
    </section>

    <!-- DASHBOARD APP -->
    <section id="app-layout">
        <aside id="sidebar">
            <div class="logo"><i class="fa-solid fa-cube"></i> XX-0-25</div>
            <nav>
                <a href="#" class="nav-link active" onclick="ui.nav('dashboard', this)">
                    <i class="fa-solid fa-chart-line"></i> DASHBOARD
                </a>
                <a href="#" class="nav-link" onclick="ui.nav('wallet', this)">
                    <i class="fa-solid fa-wallet"></i> MY WALLET
                </a>
                <a href="#" class="nav-link" onclick="ui.nav('history', this)">
                    <i class="fa-solid fa-clock-rotate-left"></i> HISTORY
                </a>
                <a href="#" class="nav-link" onclick="ui.nav('transfer', this)">
                    <i class="fa-solid fa-arrow-right-arrow-left"></i> TRANSFER
                </a>
                <a href="#" class="nav-link" onclick="ui.nav('topup', this)">
                    <i class="fa-solid fa-coins"></i> TOP UP
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <span>Status: <span id="sys-status" class="text-neon-green">ONLINE</span></span><br>
                <span>Node: SG-1</span>
            </div>
        </aside>

        <main>
            <div class="top-bar">
                <div class="top-title">
                    <h1 id="page-title">MY WALLET</h1>
                    <span>System Online // Real-time Monitoring Active</span>
                </div>
                <div class="user-pill">
                    <div class="user-info">
                        <div class="user-role">MEMBER</div>
                        <div class="user-id" id="display-id">ID: 7473782076</div>
                    </div>
                    <div class="avatar" style="background: linear-gradient(45deg, #667eea, #764ba2);"></div>
                </div>
            </div>

            <!-- WALLET SECTION -->
            <section class="wallet-section">
                <div class="wallet-header">
                    <h2 class="wallet-title">My Wallet</h2>
                    <div class="time-display" id="live-time">11:11 PM</div>
                </div>

                <div class="coin-grid">
                    <!-- B Coin -->
                    <div class="coin-card b-coin">
                        <div class="coin-header">
                            <div class="coin-name">B Coin</div>
                            <div class="coin-icon b-coin">B</div>
                        </div>
                        <div class="coin-balance" id="b-coin-balance">0.000000</div>
                        <div class="coin-usd" id="b-coin-usd">≈ $0.00 USD</div>
                        <div class="coin-actions">
                            <button class="coin-btn primary" onclick="ui.openModal('topup-modal')">Top Up</button>
                            <button class="coin-btn" onclick="ui.openModal('transfer-modal')">Transfer</button>
                        </div>
                    </div>

                    <!-- L Coin -->
                    <div class="coin-card l-coin">
                        <div class="coin-header">
                            <div class="coin-name">L Coin</div>
                            <div class="coin-icon l-coin">L</div>
                        </div>
                        <div class="coin-balance" id="l-coin-balance">0.000000</div>
                        <div class="coin-usd" id="l-coin-usd">≈ $0.00 USD</div>
                        <div class="coin-actions">
                            <button class="coin-btn primary" onclick="ui.openModal('topup-modal')">Top Up</button>
                            <button class="coin-btn" onclick="ui.openModal('transfer-modal')">Transfer</button>
                        </div>
                    </div>
                </div>

                <!-- STATS -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-title"><i class="fa-solid fa-arrow-trend-up"></i> 24H VOLUME</div>
                        <div class="stat-value positive" id="24h-volume">$1.24M</div>
                        <div class="stat-trend trend-up">+12.5% from yesterday</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title"><i class="fa-solid fa-users"></i> ACTIVE USERS</div>
                        <div class="stat-value" id="active-users">8,429</div>
                        <div class="stat-trend trend-up">+342 today</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-title"><i class="fa-solid fa-bolt"></i> SYSTEM LOAD</div>
                        <div class="stat-value" id="system-load">24%</div>
                        <div class="stat-trend trend-down">-8% from peak</div>
                    </div>
                </div>
            </section>

            <!-- REALTIME GRAPHS -->
            <section class="graphs-section">
                <h2 style="margin-bottom: 1.5rem; font-size: 1.5rem;">Realtime Analytics</h2>
                <div class="graphs-grid">
                    <div class="graph-card">
                        <div class="graph-header">
                            <div class="graph-title"><i class="fa-solid fa-chart-line text-neon-blue"></i> B COIN PRICE</div>
                            <div class="graph-time" id="graph1-time">LIVE</div>
                        </div>
                        <div class="graph-canvas-container">
                            <canvas id="chart-bcoin"></canvas>
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-header">
                            <div class="graph-title"><i class="fa-solid fa-chart-line text-neon-yellow"></i> L COIN PRICE</div>
                            <div class="graph-time" id="graph2-time">LIVE</div>
                        </div>
                        <div class="graph-canvas-container">
                            <canvas id="chart-lcoin"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- TRANSACTION HISTORY -->
            <section class="history-section">
                <h2 style="margin-bottom: 1.5rem; font-size: 1.5rem;">Recent Transactions</h2>
                <div class="history-table">
                    <div class="table-header">
                        <div>Type</div>
                        <div>Description</div>
                        <div>Amount</div>
                        <div>Date</div>
                        <div>Status</div>
                    </div>
                    <div id="transaction-list">
                        <!-- Transactions will be loaded here -->
                    </div>
                </div>
            </section>
        </main>
    </section>

    <!-- TOP UP MODAL -->
    <div class="modal" id="topup-modal">
        <div class="modal-panel">
            <div class="modal-header">
                <h2 class="text-neon-blue">TOP UP COINS</h2>
                <button class="coin-btn" onclick="ui.closeModal('topup-modal')"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label class="input-label">SELECT COIN</label>
                    <select id="topup-coin" class="cyber-input">
                        <option value="bcoin">B Coin</option>
                        <option value="lcoin">L Coin</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">AMOUNT</label>
                    <input type="number" id="topup-amount" class="cyber-input" placeholder="0.00">
                </div>
                <div class="input-group">
                    <label class="input-label">PAYMENT METHOD</label>
                    <select id="topup-method" class="cyber-input">
                        <option value="credit">Credit/Debit Card</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="crypto">Cryptocurrency</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-modal secondary" onclick="ui.closeModal('topup-modal')">Cancel</button>
                <button class="btn-modal primary" onclick="transactions.topup()">Process Top Up</button>
            </div>
        </div>
    </div>

    <!-- TRANSFER MODAL -->
    <div class="modal" id="transfer-modal">
        <div class="modal-panel">
            <div class="modal-header">
                <h2 class="text-neon-blue">TRANSFER COINS</h2>
                <button class="coin-btn" onclick="ui.closeModal('transfer-modal')"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label class="input-label">FROM</label>
                    <select id="transfer-from" class="cyber-input">
                        <option value="bcoin">B Coin Wallet</option>
                        <option value="lcoin">L Coin Wallet</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">TO USER ID</label>
                    <input type="text" id="transfer-to" class="cyber-input" placeholder="User ID or Username">
                </div>
                <div class="input-group">
                    <label class="input-label">AMOUNT</label>
                    <input type="number" id="transfer-amount" class="cyber-input" placeholder="0.00">
                </div>
                <div class="input-group">
                    <label class="input-label">MEMO (Optional)</label>
                    <input type="text" id="transfer-memo" class="cyber-input" placeholder="Payment for services">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-modal secondary" onclick="ui.closeModal('transfer-modal')">Cancel</button>
                <button class="btn-modal primary" onclick="transactions.transfer()">Confirm Transfer</button>
            </div>
        </div>
    </div>

    <!-- SCRIPT -->
    <script>
        // ================= STATE MANAGEMENT =================
        const state = {
            user: {
                id: localStorage.getItem('user_id') || '7473782076',
                username: localStorage.getItem('username') || 'admin',
                role: 'MEMBER',
                status: 'ACTIVE'
            },
            wallet: {
                bcoin: parseFloat(localStorage.getItem('bcoin_balance')) || 1254.678923,
                lcoin: parseFloat(localStorage.getItem('lcoin_balance')) || 892.345671,
                bcoinPrice: 0.85,
                lcoinPrice: 1.25
            },
            transactions: JSON.parse(localStorage.getItem('transactions') || '[]'),
            charts: {},
            realtimeInterval: null,
            loginMethod: 'telegram'
        };

        // ================= AUTH SYSTEM =================
        const auth = {
            selectMethod: (method) => {
                state.loginMethod = method;
                document.getElementById('tg-input').style.display = method === 'telegram' ? 'block' : 'none';
                document.getElementById('user-input').style.display = method === 'username' ? 'block' : 'none';
                document.getElementById('pass-input').style.display = method === 'username' ? 'block' : 'none';
            },

            login: () => {
                let userId, username;
                
                if(state.loginMethod === 'telegram') {
                    userId = document.getElementById('tg-id').value || '7473782076';
                    username = `tg_${userId}`;
                } else {
                    username = document.getElementById('username').value || 'admin';
                    userId = username === 'admin' ? '7473782076' : Math.floor(Math.random() * 1000000000);
                }

                // Save user data
                state.user.id = userId;
                state.user.username = username;
                localStorage.setItem('user_id', userId);
                localStorage.setItem('username', username);

                // Transition to dashboard
                document.getElementById('login-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('login-screen').classList.add('hidden');
                    document.getElementById('app-layout').classList.add('active');
                    ui.initDashboard();
                }, 500);

                ui.toast(`Welcome, ${username}!`, 'success');
            },

            logout: () => {
                localStorage.clear();
                location.reload();
            }
        };

        // ================= UI CONTROLLER =================
        const ui = {
            toast: (msg, type='info') => {
                const t = document.getElementById('toast');
                const m = document.getElementById('toast-msg');
                m.innerText = msg;
                t.style.borderColor = type === 'error' ? 'var(--neon-red)' : 
                                    type === 'success' ? 'var(--neon-green)' : 'var(--neon-blue)';
                t.classList.add('show');
                setTimeout(() => t.classList.remove('show'), 3000);
            },

            nav: (page, el) => {
                document.querySelectorAll('.nav-link').forEach(n => n.classList.remove('active'));
                el.classList.add('active');
                document.getElementById('page-title').innerText = page.toUpperCase();
            },

            openModal: (id) => document.getElementById(id).classList.add('active'),
            closeModal: (id) => document.getElementById(id).classList.remove('active'),

            initDashboard: () => {
                // Update user info
                document.getElementById('display-id').textContent = `ID: ${state.user.id}`;

                // Update wallet balances
                ui.updateWallet();

                // Load transactions
                ui.loadTransactions();

                // Start real-time updates
                ui.startRealtimeUpdates();

                // Initialize charts
                charts.init();
            },

            updateWallet: () => {
                // Update B Coin
                document.getElementById('b-coin-balance').textContent = state.wallet.bcoin.toFixed(6);
                document.getElementById('b-coin-usd').textContent = 
                    `≈ $${(state.wallet.bcoin * state.wallet.bcoinPrice).toFixed(2)} USD`;

                // Update L Coin
                document.getElementById('l-coin-balance').textContent = state.wallet.lcoin.toFixed(6);
                document.getElementById('l-coin-usd').textContent = 
                    `≈ $${(state.wallet.lcoin * state.wallet.lcoinPrice).toFixed(2)} USD`;
            },

            loadTransactions: () => {
                const container = document.getElementById('transaction-list');
                
                // Generate sample transactions if none exist
                if(state.transactions.length === 0) {
                    state.transactions = [
                        { id: 1, type: 'deposit', desc: 'Top Up B Coin', amount: 500.00, coin: 'B', date: '3 Nov 11:10', status: 'success' },
                        { id: 2, type: 'transfer', desc: 'Transfer to User#8892', amount: -150.25, coin: 'L', date: '3 Nov 10:45', status: 'success' },
                        { id: 3, type: 'deposit', desc: 'Bonus Reward', amount: 25.00, coin: 'B', date: '2 Nov 15:30', status: 'success' },
                        { id: 4, type: 'withdraw', desc: 'Withdrawal to Bank', amount: -300.00, coin: 'B', date: '2 Nov 09:15', status: 'pending' },
                        { id: 5, type: 'deposit', desc: 'L Coin Purchase', amount: 125.50, coin: 'L', date: '1 Nov 20:05', status: 'success' }
                    ];
                    localStorage.setItem('transactions', JSON.stringify(state.transactions));
                }

                container.innerHTML = '';
                state.transactions.forEach(tx => {
                    const row = document.createElement('div');
                    row.className = 'table-row';
                    
                    let typeIcon, typeClass;
                    switch(tx.type) {
                        case 'deposit': typeIcon = 'fa-arrow-down'; typeClass = 'deposit'; break;
                        case 'withdraw': typeIcon = 'fa-arrow-up'; typeClass = 'withdraw'; break;
                        case 'transfer': typeIcon = 'fa-right-left'; typeClass = 'transfer'; break;
                    }

                    let statusClass;
                    switch(tx.status) {
                        case 'success': statusClass = 'status-success'; break;
                        case 'pending': statusClass = 'status-pending'; break;
                        case 'failed': statusClass = 'status-failed'; break;
                    }

                    row.innerHTML = `
                        <div class="table-cell">
                            <div class="tx-type ${typeClass}">
                                <i class="fa-solid ${typeIcon}"></i>
                            </div>
                        </div>
                        <div class="table-cell">${tx.desc}</div>
                        <div class="table-cell tx-amount ${tx.amount >= 0 ? 'positive' : 'negative'}">
                            ${tx.amount >= 0 ? '+' : ''}${tx.amount.toFixed(2)} ${tx.coin}
                        </div>
                        <div class="table-cell text-dim">${tx.date}</div>
                        <div class="table-cell">
                            <span class="tx-status ${statusClass}">${tx.status.toUpperCase()}</span>
                        </div>
                    `;
                    container.appendChild(row);
                });
            },

            startRealtimeUpdates: () => {
                // Update time every second
                setInterval(() => {
                    const now = new Date();
                    const time = now.toLocaleTimeString('en-US', { 
                        hour: '2-digit', 
                        minute: '2-digit',
                        hour12: true 
                    });
                    document.getElementById('live-time').textContent = time;
                }, 1000);

                // Update stats every 5 seconds
                state.realtimeInterval = setInterval(() => {
                    // Simulate price changes
                    state.wallet.bcoinPrice += (Math.random() - 0.5) * 0.01;
                    state.wallet.lcoinPrice += (Math.random() - 0.5) * 0.02;
                    
                    // Keep prices positive
                    state.wallet.bcoinPrice = Math.max(0.5, Math.min(1.5, state.wallet.bcoinPrice));
                    state.wallet.lcoinPrice = Math.max(0.8, Math.min(2.0, state.wallet.lcoinPrice));
                    
                    // Update wallet display
                    ui.updateWallet();
                    
                    // Update charts
                    charts.update();
                    
                    // Update volume and users (simulated)
                    document.getElementById('24h-volume').textContent = 
                        `$${(1.24 + Math.random() * 0.1).toFixed(2)}M`;
                    document.getElementById('active-users').textContent = 
                        Math.floor(8429 + Math.random() * 100);
                    document.getElementById('system-load').textContent = 
                        `${Math.floor(20 + Math.random() * 15)}%`;
                    
                }, 5000);
            }
        };

        // ================= CHARTS ENGINE =================
        const charts = {
            ctxB: null,
            ctxL: null,
            dataB: [],
            dataL: [],
            timeLabels: [],

            init: () => {
                // Get canvas contexts
                charts.ctxB = document.getElementById('chart-bcoin').getContext('2d');
                charts.ctxL = document.getElementById('chart-lcoin').getContext('2d');
                
                // Initialize data arrays
                const now = new Date();
                for(let i = 0; i < 50; i++) {
                    const time = new Date(now - (49 - i) * 60000);
                    charts.timeLabels.push(time.getHours() + ':' + time.getMinutes().toString().padStart(2, '0'));
                    
                    // Start with some realistic values
                    charts.dataB.push(0.8 + Math.random() * 0.4);
                    charts.dataL.push(1.0 + Math.random() * 0.6);
                }

                // Initialize charts
                charts.createChart(charts.ctxB, charts.dataB, var(--b-coin), 'B Coin Price');
                charts.createChart(charts.ctxL, charts.dataL, var(--l-coin), 'L Coin Price');
                
                // Start updates
                setInterval(charts.update, 2000);
            },

            createChart: (ctx, data, color, label) => {
                // Create gradient
                const gradient = ctx.createLinearGradient(0, 0, 0, 200);
                gradient.addColorStop(0, color + '80');
                gradient.addColorStop(1, color + '10');

                // Simple line chart drawing
                charts.drawLine(ctx, data, gradient);
            },

            drawLine: (ctx, data, gradient) => {
                const width = ctx.canvas.width = ctx.canvas.parentElement.offsetWidth;
                const height = ctx.canvas.height = 200;
                
                // Clear canvas
                ctx.clearRect(0, 0, width, height);
                
                // Find min/max for scaling
                const min = Math.min(...data);
                const max = Math.max(...data);
                const range = max - min || 1;
                
                // Draw line
                ctx.beginPath();
                const step = width / (data.length - 1);
                
                for(let i = 0; i < data.length; i++) {
                    const x = i * step;
                    const y = height - ((data[i] - min) / range) * (height - 20) - 10;
                    
                    if(i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Fill area under line
                ctx.lineTo(width, height);
                ctx.lineTo(0, height);
                ctx.closePath();
                ctx.fillStyle = gradient;
                ctx.fill();
            },

            update: () => {
                // Add new data points
                charts.dataB.shift();
                charts.dataL.shift();
                
                // Add new values with some randomness
                const lastB = charts.dataB[charts.dataB.length - 1] || 0.8;
                const lastL = charts.dataL[charts.dataL.length - 1] || 1.0;
                
                charts.dataB.push(lastB + (Math.random() - 0.5) * 0.05);
                charts.dataL.push(lastL + (Math.random() - 0.5) * 0.08);
                
                // Update time labels
                const now = new Date();
                charts.timeLabels.shift();
                charts.timeLabels.push(now.getHours() + ':' + now.getMinutes().toString().padStart(2, '0'));
                
                // Redraw charts
                charts.drawLine(charts.ctxB, charts.dataB, var(--b-coin) + '80');
                charts.drawLine(charts.ctxL, charts.dataL, var(--l-coin) + '80');
                
                // Update graph times
                document.getElementById('graph1-time').textContent = 'UPDATED';
                document.getElementById('graph2-time').textContent = 'UPDATED';
                
                setTimeout(() => {
                    document.getElementById('graph1-time').textContent = 'LIVE';
                    document.getElementById('graph2-time').textContent = 'LIVE';
                }, 1000);
            }
        };

        // ================= TRANSACTIONS =================
        const transactions = {
            topup: () => {
                const coin = document.getElementById('topup-coin').value;
                const amount = parseFloat(document.getElementById('topup-amount').value);
                
                if(!amount || amount <= 0) {
                    ui.toast('Please enter a valid amount', 'error');
                    return;
                }
                
                if(coin === 'bcoin') {
                    state.wallet.bcoin += amount;
                } else {
                    state.wallet.lcoin += amount;
                }
                
                // Save to localStorage
                localStorage.setItem('bcoin_balance', state.wallet.bcoin);
                localStorage.setItem('lcoin_balance', state.wallet.lcoin);
                
                // Add transaction record
                const tx = {
                    id: Date.now(),
                    type: 'deposit',
                    desc: `Top Up ${coin === 'bcoin' ? 'B' : 'L'} Coin`,
                    amount: amount,
                    coin: coin === 'bcoin' ? 'B' : 'L',
                    date: new Date().toLocaleDateString('en-US', { 
                        month: 'short', 
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit' 
                    }),
                    status: 'success'
                };
                
                state.transactions.unshift(tx);
                localStorage.setItem('transactions', JSON.stringify(state.transactions));
                
                // Update UI
                ui.updateWallet();
                ui.loadTransactions();
                ui.closeModal('topup-modal');
                
                ui.toast(`Successfully added ${amount} ${coin === 'bcoin' ? 'B' : 'L'} Coin`, 'success');
            },

            transfer: () => {
                const fromCoin = document.getElementById('transfer-from').value;
                const toUser = document.getElementById('transfer-to').value;
                const amount = parseFloat(document.getElementById('transfer-amount').value);
                const memo = document.getElementById('transfer-memo').value;
                
                if(!toUser || !amount || amount <= 0) {
                    ui.toast('Please fill all required fields', 'error');
                    return;
                }
                
                // Check balance
                if(fromCoin === 'bcoin' && amount > state.wallet.bcoin) {
                    ui.toast('Insufficient B Coin balance', 'error');
                    return;
                }
                if(fromCoin === 'lcoin' && amount > state.wallet.lcoin) {
                    ui.toast('Insufficient L Coin balance', 'error');
                    return;
                }
                
                // Deduct from wallet
                if(fromCoin === 'bcoin') {
                    state.wallet.bcoin -= amount;
                } else {
                    state.wallet.lcoin -= amount;
                }
                
                // Save to localStorage
                localStorage.setItem('bcoin_balance', state.wallet.bcoin);
                localStorage.setItem('lcoin_balance', state.wallet.lcoin);
                
                // Add transaction record
                const tx = {
                    id: Date.now(),
                    type: 'transfer',
                    desc: `Transfer to ${toUser}${memo ? ` (${memo})` : ''}`,
                    amount: -amount,
                    coin: fromCoin === 'bcoin' ? 'B' : 'L',
                    date: new Date().toLocaleDateString('en-US', { 
                        month: 'short', 
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit' 
                    }),
                    status: 'success'
                };
                
                state.transactions.unshift(tx);
                localStorage.setItem('transactions', JSON.stringify(state.transactions));
                
                // Update UI
                ui.updateWallet();
                ui.loadTransactions();
                ui.closeModal('transfer-modal');
                
                ui.toast(`Successfully transferred ${amount} ${fromCoin === 'bcoin' ? 'B' : 'L'} Coin`, 'success');
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Check if already logged in
            if(localStorage.getItem('user_id')) {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('app-layout').classList.add('active');
                setTimeout(() => ui.initDashboard(), 100);
            }
        });

    </script>
</body>
</html>
